<?xml version="1.0" encoding="iso-8859-1" ?>

<!--
================================================================================
Build file for Funambol J2ME SyncML API.
================================================================================
-->


<project name="Funambol J2ME SyncML" default="build" basedir="..">
    <!--
    ========================================================================
     Setting variable
    ========================================================================
    -->
    <target name="init">
        <tstamp>
            <format property="timestamp.MM" pattern="MM" />
            <format property="timestamp.dd" pattern="dd" />
            <format property="timestamp.HH" pattern="HH" />
        </tstamp>
        <property file="build/common.properties"/>
    
        <property name="dir.output"              value="${basedir}/output"/>
        <property name="dir.classes"             value="${dir.output}/classes"      />
        <property name="dir.html"                value="${dir.output}/html"/>
        <property name="dir.src"                 value="${basedir}/src"/>

    </target>

    <!-- =============================================== -->
    <!-- USAGE                                           -->
    <!-- =============================================== -->
    <target name="usage" depends="init">
        <echo message=""/>
        <echo message="Funambol Java SyncML API build file"/>
        <echo message="------------------------------------------------------"/>
        <echo message=""/>
        <echo message=" Available targets are :"/>
        <echo message=""/>
        <echo message=" usage      --> help on usage"/>
        <echo message=" build      --> builds the project"/>
        <echo message=" rebuild    --> cleans and builds the project"/>
        <echo message=" clean      --> clean up the build directory"/>
        <echo message=" src        --> Create the src package"/>
        <echo message=""/>
    </target>
    
    <!-- =============================================== -->
    <!-- CLEAN                                           -->
    <!-- =============================================== -->
    <target name="clean" depends="init">
        <echo message="Clean output tree ${dir.output}"/>
        <delete dir="${dir.output}"/>
        <delete>
            <fileset dir="." includes="**/*.bak"/>
        </delete>
    </target>
    
    <!-- =============================================== -->
    <!-- REBUILD                                         -->
    <!-- =============================================== -->
    <target name="rebuild" depends="clean,build"/>
    
    <!-- =============================================== -->
    <!-- BUILD                                           -->
    <!-- =============================================== -->
    <target name="build" depends="init">
    </target>

    <!-- =============================================== -->
    <!-- DOCS                                            -->
    <!-- =============================================== -->
    <target name="docs" depends="init">
        <javadoc destdir="${dir.html}" author="true" version="true"
                 use="true" windowtitle="Funambol Mail API"
                 sourcepath="${dir.src}"
                 packagenames="com.funambol.*"
                 classpath="${classpath};${wtk.home}/lib/midpapi20.jar;${lib.funambol.common}">

            <doctitle>
                <![CDATA[<!--img src="logo.gif"--> <h1>Funambol Java SyncML API ${version} for ${platform}</h1>]]>
            </doctitle>
            <bottom><![CDATA[<i>Copyright &#169; 2001-2009 Funambol.</i>]]></bottom>

        </javadoc>
    </target>

</project>
